# 冒泡排序\(Bubble Sort\)

#### 算法描述

冒泡排序是一种简单的排序算法 . 它重复地走访过要排序的数列 , 一次比较两个元素 , 如果它们的顺序错误就把它们交换过来 . 走访数列的工作是重复地进行直到没有再需要交换 , 也就是说该数列已经排序完成 . 这个算法的名字由来是因为越小的元素会经由交换慢慢“浮”到数列的顶端 .

#### 具体实现

* 比较相邻的元素 . 如果第一个比第二个大 , 就交换它们两个
* 对每一对相邻元素作同样的工作 , 从开始第一对到结尾的最后一对 , 这样在最后的元素应该会是最大的数
* 针对所有的元素重复以上的步骤 , 除了最后一个
* 重复步骤1~3 , 直到排序完成

```php
public static function bubbleSoft(&$arr)
{
    if (! is_array($arr)) {
        return false;
    }
    # 计算数组长度
    $len = count($arr);

    # 每扫描一次,筛出最大的元素放到最后
    for ($i = 0; $i < $len; $i++) { # 有多少个元素就调换多少次
        $end = $len - $i - 1; # 因为每比较一轮,最后元素的位置都会变化
        $flag = false; # 排序开关,它的作用是表示是否已经排好序了
        for ($j = 0; $j < $end; $j++) {
            if ($arr[$j] > $arr[$j+1]) { # 比较相邻的元素,例如,$a[1]>$a[1+1]
                self::_swap($arr, $j, $j+1); # 元素交换
                $flag = true;
            }
        }
        if (!$flag) {
            break;
        }
    }

    return true;
}
```

> 上面的实现中有个$flag , 它的作用是表示是否已经排好序了 , 当还需要交换的时候说明没有排好序 , 一次扫描没有发生交换说明已经排好序了 , 这时候需要终止循环避免无用的扫描 .

这个实现对应最好时间复杂度为O\(n\) , 对应最坏时间复杂度为O\(n^2\) .

![](/assets/20160916160748389)

