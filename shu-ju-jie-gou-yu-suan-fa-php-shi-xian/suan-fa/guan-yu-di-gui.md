# 关于递归

推荐注册返佣金的这个功能应该不陌生 . 现在很多App都有这个功能 . 用户A推荐用户B来注册 , 用户B又推荐用户C来注册 . 用户C的最终推荐人是用户A , 用户B的最终推荐人也是用户A , 用户A没有最终推荐人 .

通常会通过数据库来记录这种推荐关系 . 在数据库表中 , 记录两行数据 , 其中actor\_id表示用户id , referrer\_id表示推荐人id .

![](/assets/tuijianguanxi.png)

给定一个用户ID , 如何查找这个用户的最终推荐人 , 就是下面要学习的内容 , 递归\(Recursion\) .

#### 如何理解递归

递归是一种应用非常广泛的算法 , 或者说是编程技巧 . 很多数据结构和算法的编码实现都要用到递归 , 比如DFS深度优先搜索 , 前中后序二叉树遍历等等 .

> 一个生活中的例子 . 在电影院中 , 你不知道自己是第几排 , 于是就问前面的人他是第几排 , 只要是前面的人的排数加一就知道了 , 如果前面的人也不知道自己是第几排 , 就问他前面的人 , 直到第一排 , 然后第一排的人说我是第一排啊 , 再告诉后面的人 , 一排一排的传回来 , 你就知道自己在第几排了 .

上面的例子 , 就是一个非常标准的递归求解问题的分解过程 , 去的过程叫递 , 回来的过程叫归 . 基本上 , 所有的递归问题都可以用递推公式来表示 , 比如前面的例子 :

```
f(n) = f(n-1)+1,其中f(1) = 1
```

f\(n\)表示想知道自己在哪一排 , f\(n-1\)表示前面一排所在的排数 , f\(1\) = 1表示第一排的人知道自己在第一排 . 根据公式写代码 : 

```
int f(int n) {
    if (n == 1) return 1;
    return f(n-1) + 1;
}
```



